{"is_source_file": true, "format": "Python", "description": "This file contains core logic for a Tic Tac Toe game, including functions to create, manage, and evaluate game states, handle moves, determine winners, and provide AI move calculations. It emphasizes immutability by returning new game state structures and supports both human vs human and human vs AI modes.", "external_files": ["__future__", "random", "uuid", "copy"], "external_methods": ["random.choice", "uuid.uuid4", "deepcopy"], "published": ["create_new_game", "available_moves", "check_winner", "apply_move", "ai_pick_move"], "classes": [], "methods": [{"name": "List[List[Cell]] _empty_board()", "description": "Returns a 3x3 empty board initialized with empty strings.", "scope": "", "scopeKind": ""}, {"name": "Optional[Player] _next_player_after(current: Optional[Player])", "description": "Returns the next player ('X' or 'O') given the current one, or None if current is None.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] create_new_game(first_player: Player, mode: Mode, ai_difficulty: Optional[Difficulty] = \"easy\")", "description": "Creates and returns a new game state dictionary with unique ID, initial board, and configuration parameters.", "scope": "", "scopeKind": ""}, {"name": "List[Tuple[int,int]] available_moves(board: List[List[Cell]])", "description": "Returns a list of available (row, col) positions on the board where moves can be made.", "scope": "", "scopeKind": ""}, {"name": "List[List[Cell]] _lines(board: List[List[Cell]])", "description": "Generates all lines (rows, columns, diagonals) of the board for win checking.", "scope": "", "scopeKind": ""}, {"name": "Optional[Literal[\"X\",\"O\",\"draw\"]] check_winner(board: List[List[Cell]])", "description": "Determines if there's a winner or a draw on the current board state.", "scope": "", "scopeKind": ""}, {"name": "Status _derive_status_from_winner(winner: Optional[Literal[\"X\", \"O\", \"draw\"]])", "description": "Converts a winner or draw indicator into the game status string.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] apply_move(state: Dict[str, Any], row: int, col: int)", "description": "Applies a move to the current game state, returning a new updated state and raising errors if invalid.", "scope": "", "scopeKind": ""}, {"name": "Optional[Tuple[int,int]] _ai_easy_pick(moves: List[Tuple[int, int]])", "description": "Selects a random move from a list for easy AI difficulty.", "scope": "", "scopeKind": ""}, {"name": "Optional[Tuple[int,int]] _ai_hard_pick(state: Dict[str, Any])", "description": "Placeholder for advanced AI move logic; currently defaults to easy AI.", "scope": "", "scopeKind": ""}, {"name": "Optional[Tuple[int,int]] ai_pick_move(state: Dict[str, Any], difficulty: Optional[Difficulty] = \"easy\")", "description": "Decides and returns an AI move based on difficulty and game state, or None if move is not possible.", "scope": "", "scopeKind": ""}], "calls": ["deepcopy", "random.choice", "uuid.uuid4", "check_winner", "_next_player_after", "available_moves"], "search-terms": ["game logic", "Tic Tac Toe", "immutable game state", "AI move", "win detection", "move validation"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "Cell", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^Cell = Literal[\"X\", \"O\", \"\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Difficulty", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^Difficulty = Literal[\"easy\", \"hard\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Mode", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^Mode = Literal[\"pvp\", \"ai\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Player", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^Player = Literal[\"X\", \"O\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Status", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^Status = Literal[\"in_progress\", \"x_won\", \"o_won\", \"draw\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_ai_easy_pick", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _ai_easy_pick(moves: List[Tuple[int, int]]) -> Optional[Tuple[int, int]]:$/", "language": "Python", "typeref": "typename:Optional[Tuple[int,int]]", "kind": "function", "signature": "(moves: List[Tuple[int, int]])"}, {"_type": "tag", "name": "_ai_hard_pick", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _ai_hard_pick(state: Dict[str, Any]) -> Optional[Tuple[int, int]]:$/", "language": "Python", "typeref": "typename:Optional[Tuple[int,int]]", "kind": "function", "signature": "(state: Dict[str, Any])"}, {"_type": "tag", "name": "_derive_status_from_winner", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _derive_status_from_winner(winner: Optional[Literal[\"X\", \"O\", \"draw\"]]) -> Status:$/", "language": "Python", "typeref": "typename:Status", "kind": "function", "signature": "(winner: Optional[Literal[\"X\", \"O\", \"draw\"]])"}, {"_type": "tag", "name": "_empty_board", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _empty_board() -> List[List[Cell]]:$/", "language": "Python", "typeref": "typename:List[List[Cell]]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_lines", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _lines(board: List[List[Cell]]) -> List[List[Cell]]:$/", "language": "Python", "typeref": "typename:List[List[Cell]]", "kind": "function", "signature": "(board: List[List[Cell]])"}, {"_type": "tag", "name": "_next_player_after", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def _next_player_after(current: Optional[Player]) -> Optional[Player]:$/", "language": "Python", "typeref": "typename:Optional[Player]", "kind": "function", "signature": "(current: Optional[Player])"}, {"_type": "tag", "name": "ai_pick_move", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def ai_pick_move(state: Dict[str, Any], difficulty: Optional[Difficulty] = \"easy\") -> Optional[T/", "language": "Python", "typeref": "typename:Optional[Tuple[int,int]]", "kind": "function", "signature": "(state: Dict[str, Any], difficulty: Optional[Difficulty] = \"easy\")"}, {"_type": "tag", "name": "apply_move", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def apply_move(state: Dict[str, Any], row: int, col: int) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(state: Dict[str, Any], row: int, col: int)"}, {"_type": "tag", "name": "available_moves", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def available_moves(board: List[List[Cell]]) -> List[Tuple[int, int]]:$/", "language": "Python", "typeref": "typename:List[Tuple[int,int]]", "kind": "function", "signature": "(board: List[List[Cell]])"}, {"_type": "tag", "name": "check_winner", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def check_winner(board: List[List[Cell]]) -> Optional[Literal[\"X\", \"O\", \"draw\"]]:$/", "language": "Python", "typeref": "typename:Optional[Literal[\"X\",\"O\",\"draw\"]]", "kind": "function", "signature": "(board: List[List[Cell]])"}, {"_type": "tag", "name": "create_new_game", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/domain/game_logic.py", "pattern": "/^def create_new_game(first_player: Player, mode: Mode, ai_difficulty: Optional[Difficulty] = \"eas/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(first_player: Player, mode: Mode, ai_difficulty: Optional[Difficulty] = \"easy\")"}], "hash": "4e1839bb322d0ba04ec7ed13109b9f8c", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/domain/game_logic.py", "fields": [{"name": "Cell = Literal[\"X\", \"O\", \"\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Difficulty = Literal[\"easy\", \"hard\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Mode = Literal[\"pvp\", \"ai\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Player = Literal[\"X\", \"O\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Status = Literal[\"in_progress\", \"x_won\", \"o_won\", \"draw\"]", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"11": ""}]}