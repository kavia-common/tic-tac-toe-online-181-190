{"is_source_file": true, "format": "Python", "description": "This file defines the GameService class, which acts as the service layer in a Tic Tac Toe game backend. It orchestrates game creation, fetching game state, applying moves, handling AI moves, and listing games, coordinating between domain logic, storage, and API schemas.", "external_files": ["src.domain", "src.schemas", "src.storage.repository"], "external_methods": ["src.domain.create_new_game", "src.domain.apply_move", "src.domain.ai_pick_move", "src.schemas.GameStateResponse", "src.storage.repository.Repository", "src.storage.repository.to_game_state_response"], "published": ["GameService"], "classes": [{"name": "GameService", "description": "Service layer to orchestrate Tic Tac Toe domain logic and storage."}], "methods": [{"name": "GameStateResponse start_game(self, mode: str, ai_difficulty: Optional[str], first_player: str)", "description": "Creates a new game with specified mode and first player, optionally with AI difficulty, and persists it.", "scope": "GameService", "scopeKind": "class"}, {"name": "Optional[GameStateResponse] get_game_state(self, game_id: str)", "description": "Fetches the current game state by game ID.", "scope": "GameService", "scopeKind": "class"}, {"name": "GameStateResponse make_move(self, game_id: str, row: int, col: int)", "description": "Applies a move to the game specified by game ID, updating the game state.", "scope": "GameService", "scopeKind": "class"}, {"name": "Tuple[Optional[Tuple[int,int]],GameStateResponse] ai_move(self, game_id: str)", "description": "Performs an AI move if applicable, returning the move coordinates and updated game state.", "scope": "GameService", "scopeKind": "class"}, {"name": "List[GameStateResponse] list_games(self, offset: int = 0, limit: int = 50)", "description": "Lists existing games with pagination support.", "scope": "GameService", "scopeKind": "class"}, {"name": "None __init__(self, repo: Repository)", "scope": "GameService", "scopeKind": "class", "description": "unavailable"}], "calls": ["create_new_game", "apply_move", "ai_pick_move", "to_game_state_response", "self._repo.get_game", "self._repo.create_game", "self._repo.update_game", "self._repo.list_games"], "search-terms": ["GameService", "tic_tac_toe", "AI move", "game repository", "game state response", "apply_move", "create_new_game"], "state": 2, "file_id": 15, "knowledge_revision": 33, "git_revision": "491aefaf4cc8d1c1aff1a236325bd0d16c1b506c", "ctags": [{"_type": "tag", "name": "GameService", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^class GameService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def __init__(self, repo: Repository) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, repo: Repository)", "scope": "GameService", "scopeKind": "class"}, {"_type": "tag", "name": "ai_move", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def ai_move(self, game_id: str) -> Tuple[Optional[Tuple[int, int]], GameStateResponse]:$/", "language": "Python", "typeref": "typename:Tuple[Optional[Tuple[int,int]],GameStateResponse]", "kind": "member", "signature": "(self, game_id: str)", "scope": "GameService", "scopeKind": "class"}, {"_type": "tag", "name": "get_game_state", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def get_game_state(self, game_id: str) -> Optional[GameStateResponse]:$/", "language": "Python", "typeref": "typename:Optional[GameStateResponse]", "kind": "member", "signature": "(self, game_id: str)", "scope": "GameService", "scopeKind": "class"}, {"_type": "tag", "name": "list_games", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def list_games(self, offset: int = 0, limit: int = 50) -> List[GameStateResponse]:$/", "language": "Python", "typeref": "typename:List[GameStateResponse]", "kind": "member", "signature": "(self, offset: int = 0, limit: int = 50)", "scope": "GameService", "scopeKind": "class"}, {"_type": "tag", "name": "make_move", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def make_move(self, game_id: str, row: int, col: int) -> GameStateResponse:$/", "language": "Python", "typeref": "typename:GameStateResponse", "kind": "member", "signature": "(self, game_id: str, row: int, col: int)", "scope": "GameService", "scopeKind": "class"}, {"_type": "tag", "name": "start_game", "path": "/tmp/kavia/workspace/code-generation/tic-tac-toe-online-181-190/tic_tac_toe_backend/src/services/game_service.py", "pattern": "/^    def start_game(self, mode: str, ai_difficulty: Optional[str], first_player: str) -> GameStat/", "language": "Python", "typeref": "typename:GameStateResponse", "kind": "member", "signature": "(self, mode: str, ai_difficulty: Optional[str], first_player: str)", "scope": "GameService", "scopeKind": "class"}], "hash": "b9b47e9bd126f8a07a4ad8d9a2a3a735", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/services/game_service.py", "revision_history": [{"33": "491aefaf4cc8d1c1aff1a236325bd0d16c1b506c"}]}